
apache:
	Inherits: ^Helicopter
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Valued:
		Cost: 1200
	Tooltip:
		Name: 阿帕奇武装直升机
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 20
		Prerequisites: hq, ~techlevel.medium, aircraft.nod
		Queue: Aircraft
		Description: 搭载盖特炮的重型武装直升机\n\n·强势对抗：步兵、轻型载具、飞行器\n·弱势对抗：装甲载具
	Aircraft:
		TurnSpeed: 7
		Speed: 165
		AltitudeVelocity: 0c150
		CruiseAltitude: 3c512
	Health:
		HP: 185
	Armor:
		Type: Light
	RevealsShroud:
		Range: 10c0
		Type: GroundPosition
	Armament@fake:
		Name: fake
		Weapon: HeliGunFake
		LocalOffset: 940,0,48
		MuzzleSequence: muzzle
		PauseOnCondition: !ammo
	Armament@casing:
		Name: casing
		Weapon: HeliGunCasing
		LocalOffset: 800,0,55
		MuzzleSequence: muzzle
		PauseOnCondition: !ammo

	# GrantConditionOnAttack@muzzle:
	# 	Condition: firingmuzzle
	# WithIdleOverlay@muzzle:
	# 	Sequence: muzzle
	# 	Palette: effect80alpha
	# 	Offset: 940,0,48
	# 	RequiresCondition: firingmuzzle
	Armament@aggun:
		Weapon: HeliAGGun
		LocalOffset: 400,0,748
		PauseOnCondition: !ammo
	Armament@aagun:
		Name: secondary
		Weapon: HeliAAGun
		LocalOffset: 200,0,48
		PauseOnCondition: !ammo
	AutoTarget:
		ScanRadius: 6
	AttackAircraft:
		FacingTolerance: 10
		OpportunityFire: false
		PersistentTargeting: false
		AttackType: Hover
		Armaments: primary, secondary, fake, casing
	AmmoPool@real:
		Ammo: 25
		PipCount: 5
		AmmoCondition: ammo
		Armaments: primary,secondary
	ReloadAmmoPool@real:
		Delay: 4
		Count: 1
	WithFacingSpriteBody@Rotor:
		Sequence: rotor
		Name: rotor
		ForceToGround: false
		RequiresCondition: airborne
	WithFacingSpriteBody@Rotorlow:
		Sequence: rotor-low
		Name: rotor-low
		ForceToGround: false
		RequiresCondition: !airborne
	WithFacingSpriteBody@Shadow:
		Sequence: shadow
		Name: shadow
		ForceToGround: true
	WithMuzzleOverlay:
	SpawnActorOnDeath:
		Actor: apache.Husk
	SelectionDecorations:
	RenderSprites:
		Image: apache
		PlayerPalette: green_vehicle
	Selectable:
		Bounds: 68, 56, 0, -7



apache.Husk:
	Inherits: ^HelicopterHusk
	Tooltip:
		Name: 阿帕奇武装直升机
	Aircraft:
		TurnSpeed: 2
		Speed: 80
	RevealsShroud:
		Range: 10c0
		Type: GroundPosition
	-WithVoxelBody:
	WithFacingSpriteBody@Rotor:
		Sequence: rotor
		Name: rotor
		ForceToGround: false
	WithFacingSpriteBody@Shadow:
		Sequence: shadow
		Name: shadow
		ForceToGround: true
	WithFacingSpriteBody:
	RenderSprites:
		Image: apache
		PlayerPalette: green_vehicle
	Explodes:
		Weapon: LargeExplosion
		EmptyWeapon: LargeExplosion



c130:
	Inherits: ^CommonAircraft
	# Buildable:
	# 	Queue: Aircraft
	# 	BuildPaletteOrder: 10
	# 	Prerequisites: hq
	Valued:
		Cost: 2000
	Selectable:
		Priority: 5
		Bounds: 168, 156, 0, -7
	Interactable:
		Bounds: 100,80
	Tooltip:
		Name: C130运输机
	Aircraft:
		CanHover: false
		Repulsable: false
		VTOL: false
		CruiseAltitude: 6c0
		IdleBehavior: LeaveMap
		TurnSpeed: 3
		Speed: 285
		CanSlide: false
		MaximumPitch: 40
	Health:
		HP: 1000
	Armor:
		Type: Heavy
	WithFacingSpriteBody:
	-RenderVoxels:
	RenderSprites:
		Image: c130
		PlayerPalette: red_unit
	Cargo:
		MaxWeight: 10
	ParaDrop:
		DropRange: 4c0
		ChuteSound: sparadra.wav
	SpawnActorOnDeath:
		Actor: c130husk
	HitShape:
	BodyOrientation:
		QuantizedFacings: 64
	QuantizeFacingsFromSequence:
	WithFacingSpriteBody@Screw:
		Sequence: screw
		Name: screw
		ForceToGround: false
	WithFacingSpriteBody@Shadow:
		Sequence: shadow
		Name: shadow
		ForceToGround: true
	# WithShadow:
	# 	RequiresCondition: airborne
	# WithShadow@2:
	# 	Offset: 240,480,0
	# 	RequiresCondition: !airborne
	# 	ZOffset: -1000
	RejectsOrders:



ac130:
	Inherits: c130
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	# RejectsOrders:
	# 	Except: Attack
	Buildable:
		Queue: Aircraft
		BuildPaletteOrder: 100
		Prerequisites: none
	Valued:
		Cost: 3000
	Interactable:
		Bounds: 100,80
	Tooltip:
		Name: AC130炮艇机
	Aircraft:
		TurnSpeed: 2
		Speed: 235
	Armament@Vulcan_fake:
		Weapon: AC130VulcanFake
		RequiresCondition: airborne
		LocalOffset: 0,0,0
	Armament@Vulcan:
		Weapon: AC130Vulcan
		RequiresCondition: airborne
		LocalOffset: 560,0,600
	Armament@Cannon_fake:
		Weapon: AC130CannonFake
		RequiresCondition: airborne
		LocalOffset: 0,0,0
	Armament@Cannon:
		Weapon: AC130Cannon
		RequiresCondition: airborne
		LocalOffset: 560,0,600
	AutoTarget:
		AllowMovement: false
		InitialStance: Defend
		InitialStanceAI: AttackAnything
		ScanOnIdle: true
		MinimumScanTimeInterval: 2
		MaximumScanTimeInterval: 4
	AttackAircraft:
		FacingTolerance: 128
		OpportunityFire: true
		PersistentTargeting: true
		AttackType: Default
		AbortOnResupply: false
	SpawnActorOnDeath:
		Actor: ac130husk



c130husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: C130运输机
	Aircraft:
		TurnSpeed: 5
		Speed: 100
	-RenderVoxels:
	-WithVoxelBody:
	WithFacingSpriteBody:
	RenderSprites:
		Image: c130
		PlayerPalette: red_unit
	BodyOrientation:
		QuantizedFacings: 64
	QuantizeFacingsFromSequence:
	WithFacingSpriteBody@Screw:
		Sequence: screw
		Name: screw
		ForceToGround: false
	WithFacingSpriteBody@Shadow:
		Sequence: shadow
		Name: shadow
		ForceToGround: true
	Explodes:
		Weapon: HugeExplosion
		EmptyWeapon: HugeExplosion
	Explodes@Flame:
		Weapon: FlameSea
		EmptyWeapon: FlameSea

ac130husk:
	Inherits: c130husk
	Tooltip:
		Name: AC130炮艇机