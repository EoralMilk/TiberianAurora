pyle:
	Inherits: ^BaseBuilding
	Inherits@shape: ^3x2Shape
	Buildable:
		Queue: Building
		BuildPaletteOrder: 20
		Prerequisites: power, ~structures.gdi
		Description: Trains infantry.
	Selectable:
		Bounds: 134, 132, 0, -28
	Valued:
		Cost: 500
	Tooltip:
		Name: Barracks
	ProvidesPrerequisite@gdi:
		Prerequisite: infantry.gdi
	ProvidesPrerequisite@default:
		Prerequisite: infantry.any
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Health:
		HP: 500
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 5c0
	RallyPoint:
		Palette: mouse
		IsPlayerPalette: false
	Exit@0_n1:
		SpawnOffset: 170,-810,0
		ExitCell: 0, -1
	Exit@0_2:
		SpawnOffset: -900,220,0
		ExitCell: 0, 2
	Exit@2_n1:
		SpawnOffset: 900,-220,0
		ExitCell: 2, -1
	Exit@2_2:
		SpawnOffset: -170,810,0
		ExitCell: 2, 2
	Production:
		Produces: Infantry
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	WithTextDecoration@primary:
		RequiresSelection: true
		Text: PRIMARY
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	ProductionBar:
		ProductionType: Infantry
	WithIdleOverlay@flag:
		Sequence: idle-flag
		RequiresCondition: !build-incomplete
		PauseOnCondition: build-incomplete
	Power:
		Amount: -20
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate
	RenderSprites:  # TODO: 素材..
		Image: gapile


warfactory:
	Inherits: ^BaseBuilding
	Inherits@shape: ^4x4Shape
	Buildable:
		Queue: Building
		BuildPaletteOrder: 40
		Prerequisites: ~structures.any
		Description: Produces vehicles.
	Selectable:
		Bounds: 196, 178, -6, -48
	Valued:
		Cost: 2000
	Tooltip:
		Name: GDI War Factory
	ProvidesPrerequisite@libya:
		Prerequisite: vehicles.libya
		Factions: libya
	ProvidesPrerequisite@russia:
		Prerequisite: vehicles.russia
		Factions: russia
	ProvidesPrerequisite@default:
	Building:
		Footprint: xxx= xxx= xxx= xxx=
		Dimensions: 4,4
	Health:
		HP: 1000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	RallyPoint:
		Palette: mouse
		IsPlayerPalette: false
	Exit@1:
		ExitCell: 5,2
		SpawnOffset: -1024, 0, 0
	Production:
		Produces: Vehicle
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	WithTextDecoration@primary:
		RequiresSelection: true
		Text: PRIMARY
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	ProductionBar:
		ProductionType: Vehicle
	WithIdleOverlay@right:
		Sequence: r-idle
		RequiresCondition: !build-incomplete
	WithIdleOverlay@shadow:
		Sequence: shadow
		RequiresCondition: !build-incomplete
	WithIdleOverlay@bib:
		Sequence: bib
		RequiresCondition: !build-incomplete
	WithProductionDoorOverlay@DOOR:
		Sequence: build-door
		RequiresCondition: !build-incomplete
	WithIdleOverlay@fan:
		Sequence: idle-fan
		RequiresCondition: !build-incomplete
	Power:
		Amount: -25
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: warfactory.infiltrated
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate
	RenderSprites:
		PlayerPalette: green_unit